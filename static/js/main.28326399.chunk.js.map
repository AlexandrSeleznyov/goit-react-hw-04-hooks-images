{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/SearchBar/SearchBar.module.css","services/api.js","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/App/App.js","index.js"],"names":["module","exports","fetchImages","name","page","a","API","axios","get","hits","data","defaults","baseURL","params","key","image_type","SearchBar","onSubmit","useState","image","setImage","className","s","Searchbar","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","console","log","target","value","ImageGalleryItem","imageGallery","handleSrcState","length","map","ImageGalleryItemImage","src","webformatURL","alt","tags","largeImageURL","onClick","id","ImageGallery","children","Modal","toggleModal","modalSrc","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","Overlay","currentTarget","Button","currentPage","Load","Loader","color","height","width","timeout","React","Component","App","images","setImages","setName","setPage","showLoader","setShowLoader","setHits","showModal","setShowModal","setModalSrc","prevImages","scrollToBottom","alert","getImages","scrollTo","top","document","documentElement","scrollHeight","behavior","app","data1","data2","totalHits","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.28326399.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2KKs0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__cloj7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2X1ri\",\"Modal\":\"Modal_Modal__2nQPE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1D8RZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Q7cQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__27PHZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1uVa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1YojF\",\"SearchForm\":\"SearchBar_SearchForm__RteUz\",\"SearchFormButton\":\"SearchBar_SearchFormButton__UfuG7\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3TuGt\",\"SearchFormInput\":\"SearchBar_SearchFormInput__29RUK\",\"SearchForm-input\":\"SearchBar_SearchForm-input__2eljY\"};","import axios from \"axios\";\naxios.defaults.baseURL = \"https://pixabay.com\";\naxios.defaults.params = {\n  key: \"22627688-af3fb051bb8ec0acdb27de44f\",\n  image_type: \"photo\",\n};\n\nexport default async function fetchImages(name, page) {\n  const API = `/api/?q=${name}&page=${page}&orientation=horizontal&per_page=12`;\n  const {\n    data: { hits },\n  } = await axios.get(API);\n  return hits;\n}\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./SearchBar.module.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [image, setImage] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    image.trim() === \"\" ? toast.error(\"Please, type a word!\") : onSubmit(image);\n  };\n\n  const handleChange = (e) => {\n    console.log(e.target.value);\n    setImage(e.target.value);\n  };\n\n  return (\n    <>\n      <Toaster />\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ imageGallery, handleSrcState }) {\n  return (\n    imageGallery.length &&\n    imageGallery.map((image) => (\n      <li key={image.id} className={s.ImageGalleryItem}>\n        <img\n          className={s.ImageGalleryItemImage}\n          src={image.webformatURL}\n          alt={image.tags}\n          data-src={image.largeImageURL}\n          onClick={() => handleSrcState(image.largeImageURL, true)}\n        />\n      </li>\n    ))\n  );\n}\nImageGalleryItem.propTypes = {\n  imageGallery: PropTypes.arrayOf(PropTypes.object),\n  onClick: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ children }) {\n  return <ul className={s.ImageGallery}>{children}</ul>;\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.object,\n};\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nexport default function Modal({ toggleModal, modalSrc }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        toggleModal(false);\n        console.log(\"выключаем модалку\");\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      console.log(\"удаляем слушатель\");\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [toggleModal]);\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      toggleModal(false);\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={modalSrc} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  modalSrc: PropTypes.string,\n  toggleModal: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nexport default function Button({ onSubmit, currentPage }) {\n  const handleSumbit = (e) => {\n    e.preventDefault();\n    onSubmit({ page: currentPage + 1 });\n  };\n\n  return (\n    <button type=\"submit\" className={s.Button} onClick={handleSumbit}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  totalHits: PropTypes.number,\n  onSubmit: PropTypes.func,\n  currentPage: PropTypes.number,\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nexport default class Load extends React.Component {\n  render() {\n    return (\n      <Loader\n        className={s.Loader}\n        type=\"Watch\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={500}\n      />\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport fetchImages from \"../../services/api\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\nimport Load from \"../Loader/Loader\";\nimport s from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [showLoader, setShowLoader] = useState(false);\n  const [hits, setHits] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [modalSrc, setModalSrc] = useState(\"\");\n\n  useEffect(() => {\n    if (!name) {\n      return;\n    }\n    setShowLoader(true);\n    async function getImages() {\n      try {\n        const images = await fetchImages(name, page);\n        console.log(images);\n        console.log(\"name\", name);\n\n        setHits(images.length);\n\n        if (!images.length) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n          setHits(0);\n        }\n        setImages((prevImages) => [...prevImages, ...images]);\n        scrollToBottom();\n      } catch (e) {\n        alert(e);\n      } finally {\n        setShowLoader(false);\n      }\n    }\n    getImages();\n  }, [name, page]);\n\n  const scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const writeToState = (data) => {\n    if (data) {\n      setName(data);\n    }\n  };\n  const changePage = (data) => {\n    setPage(data.page);\n    console.log(\"page\", page);\n  };\n\n  const handleSrcState = (data1, data2) => {\n    setModalSrc(data1);\n    setShowModal(data2);\n  };\n\n  const toggleModal = (data) => {\n    setShowModal(data);\n  };\n\n  return (\n    <div className={s.app}>\n      <Toaster />\n      <SearchBar onSubmit={writeToState} />\n      {showLoader && <Load />}\n      <ImageGallery>\n        <ImageGalleryItem\n          imageGallery={images}\n          handleSrcState={handleSrcState}\n        />\n      </ImageGallery>\n      {page && name && (\n        <Button onSubmit={changePage} currentPage={page} totalHits={hits} />\n      )}\n      {showModal && <Modal modalSrc={modalSrc} toggleModal={toggleModal} />}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}