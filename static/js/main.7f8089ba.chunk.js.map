{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/App/App.js","services/Api.jsx","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","image","setImage","className","s","Searchbar","SearchForm","e","preventDefault","Data","page","hits","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","console","log","target","value","ImageGalleryItem","imageGallery","handleSrcState","length","map","ImageGalleryItemImage","src","webformatURL","alt","tags","largeImageURL","onClick","id","ImageGallery","children","Modal","togleModal","modalSrc","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","Overlay","currentTarget","Button","currentPage","Load","Loader","color","height","width","timeout","React","Component","App","images","setImages","name","setName","setPage","showLoader","setShowLoader","setHits","showModal","setShowModal","setModalSrc","togleLoader","API","axios","get","then","fetchImages","totalImages","data","prevImages","scrollToBottom","catch","alert","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","writeToState","data1","data2","totalHits","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7f8089ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2KKs0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__cloj7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2X1ri\",\"Modal\":\"Modal_Modal__2nQPE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1D8RZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Q7cQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__27PHZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2T6Kh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1YojF\",\"SearchForm\":\"SearchBar_SearchForm__RteUz\",\"SearchFormButton\":\"SearchBar_SearchFormButton__UfuG7\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3TuGt\",\"SearchFormInput\":\"SearchBar_SearchFormInput__29RUK\",\"SearchForm-input\":\"SearchBar_SearchForm-input__2eljY\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./SearchBar.module.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [image, setImage] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const Data = {\n      image: image,\n      page: 1,\n      hits: 0,\n    };\n    image.trim() === \"\" ? toast.error(\"Please, type a word!\") : onSubmit(Data);\n  };\n\n  const handleChange = (e) => {\n    console.log(e.target.value);\n    setImage(e.target.value);\n  };\n\n  return (\n    <>\n      <Toaster />\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ imageGallery, handleSrcState }) {\n  return (\n    imageGallery.length !== 0 &&\n    imageGallery.map((image) => (\n      <li key={image.id} className={s.ImageGalleryItem}>\n        <img\n          className={s.ImageGalleryItemImage}\n          src={image.webformatURL}\n          alt={image.tags}\n          data-src={image.largeImageURL}\n          onClick={() => handleSrcState(image.largeImageURL, true)}\n        />\n      </li>\n    ))\n  );\n}\nImageGalleryItem.propTypes = {\n  imageGallery: PropTypes.arrayOf(PropTypes.object),\n  onClick: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ children }) {\n  return <ul className={s.ImageGallery}>{children}</ul>;\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.object,\n};\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nexport default function Modal({ togleModal, modalSrc }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        togleModal(false);\n        console.log(\"выключаем модалку\");\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      console.log(\"удаляем слушатель\");\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [togleModal]);\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      togleModal(false);\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={modalSrc} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  modalSrc: PropTypes.string,\n  togleModal: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nexport default function Button({ onSubmit, currentPage }) {\n  const handleSumbit = (e) => {\n    e.preventDefault();\n    onSubmit({ page: currentPage + 1 });\n  };\n\n  return (\n    <button type=\"submit\" className={s.Button} onClick={handleSumbit}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  totalHits: PropTypes.number,\n  onSubmit: PropTypes.func,\n  currentPage: PropTypes.number,\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nexport default class Load extends React.Component {\n  render() {\n    return (\n      <Loader\n        className={s.Loader}\n        type=\"Watch\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={500}\n      />\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport fetchImages from \"../../services/Api\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\nimport Load from \"../Loader/Loader\";\nimport s from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [page, setPage] = useState(null);\n  const [showLoader, setShowLoader] = useState(false);\n  const [hits, setHits] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [modalSrc, setModalSrc] = useState(\"\");\n\n  useEffect(() => {\n    if (!name) {\n      return;\n    }\n    togleLoader(true);\n    fetchImages(name, page)\n      .then((totalImages) => {\n        setHits(totalImages.data.hits.length);\n        if (totalImages.data.hits.length === 0) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n          setHits(0);\n        }\n\n        setImages((prevImages) => [...prevImages, ...totalImages.data.hits]);\n        scrollToBottom();\n      })\n      .catch((error) => {\n        alert(\"error\");\n      })\n      .finally(() => {\n        togleLoader(false);\n      });\n  }, [name, page]);\n\n  const scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const writeToState = (data) => {\n    if (data.image) {\n      setImages([]);\n      setName(data.image);\n      setPage(data.page);\n      setHits(data.hits);\n    } else {\n      setPage(data.page);\n    }\n  };\n\n  const handleSrcState = (data1, data2) => {\n    setModalSrc(data1);\n    setShowModal(data2);\n  };\n\n  const togleModal = (data) => {\n    setShowModal(data);\n  };\n\n  const togleLoader = (data) => {\n    return setShowLoader(data);\n  };\n\n  return (\n    <div className={s.App}>\n      <Toaster />\n      <SearchBar onSubmit={writeToState} />\n      {showLoader && <Load />}\n      <ImageGallery>\n        <ImageGalleryItem\n          imageGallery={images}\n          handleSrcState={handleSrcState}\n        />\n      </ImageGallery>\n      {page && (\n        <Button onSubmit={writeToState} currentPage={page} totalHits={hits} />\n      )}\n      {showModal && <Modal modalSrc={modalSrc} togleModal={togleModal} />}\n      {showLoader && <Load />}\n    </div>\n  );\n}\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"22627688-af3fb051bb8ec0acdb27de44f\";\r\n\r\nexport default function fetchImages(name, page) {\r\n  const API = `https://pixabay.com/api/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return axios.get(API).then((images) => {\r\n    return images;\r\n  });\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}